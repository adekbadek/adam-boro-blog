
$white: #fff;
$black: #333;
$bg_black: #1B1B1B;
$color: #1DDE2F;

$how_fast: 600ms;
$menu_to_top_breakpoint: 1025px;

// for flipper arrow
$w : 1.3em;
$line_w: .1em;
$sq_root_of_2: 1.41421;
$how_far: 20em;

*{
	box-sizing: border-box;
}

a:not(.notlink), .span-link{
	@include link($color, $black, #fff);
}
.span-link:hover{
	cursor: pointer;
}
.notlink, .notlink:focus, .notlink:visited{
	text-decoration: none;
  	color: $black;
}
.notlink:hover{
	color: $color !important;
}
.dimmed{
	opacity: 0.5;
}
.smaller{
	font-size: 0.8em;
}
code{
    font-family: monospace;
    font-size: 1.1em;
    background: #e4e4e4;
    padding: 2px 5px;
    border-radius: 5px;
}

body{
	color: $black;
	background-color: $white;
	font-family: 'Open Sans', sans-serif;
}

body.dark{
	color: $white;
	background-color: $bg_black;

	a:not(.notlink), .span-link{
		@include link($color, $color, $bg_black);
	}
	.notlink, .notlink:focus, .notlink:visited{
	  color: $white;
	}

	.site-header{
		border-color: $white;
	}
	.card{
		border: 1px solid $white;
		color: $white;
	}

	.posts-navigation .card:before{
		color: $white;
	}
	.search-submit{
		border: 1px solid $white !important;
	}
	code{
		background: #484848;
	}
}

@media only screen and (min-width: 1025px) {

	body.fullwidth{
		.site-header{
			-webkit-transform: translateX(100%);
			-ms-transform: translateX(100%);
			transform: translateX(100%);
		}
		.site-main{
			width: 100%;
		}
		.flip-wrapper{
			left: -($w + $w/1.5*2);
		}
	}

}


.site-header{
	position: fixed;
	top: 0;
	right: 0;
	width: 25%;
	height: 100%;
	// background: #fff;
	padding: 3em 3em;
	// box-shadow: 0 0 40px rgba(0, 0, 0, 0.05);
	border-left: 1px solid $black;
	-webkit-transition: transform 300ms ease-out;
	transition: transform $how_fast ease-out;

	h1{
		margin-top: 0;
		font-weight: 100;
		font-size: 3em;
	}

	@media only screen and (max-width: 1343px) {
		width: 35%;
	}

	@media only screen and (max-width: $menu_to_top_breakpoint) {
    height: auto;
    width: 100%;
    position: initial;
    border-left: none !important;
    border-bottom: 1px solid $black;

    h1{
    	margin-bottom: 10px;
    }

    .site-description{
			margin: 0;
    }
    .search-form{
    	margin-top: 20px !important;
    }
    .divider{
    	display: none;
    }
    .categories-subtitle{
    	margin: 1em 0 0 0 !important;
    }
    .categories{
    	margin: 0 !important;
    }
	}

	@media only screen and (max-width: 400px) {
		padding: 1em;
	}


	.search-form{
		margin-top: 30px;

		.search-submit{
			background: none;
			outline: none;
			border: 1px solid black;
			padding-bottom: 2px;
			margin-top: 15px;
		}
		.search-submit:hover, .search-submit:focus{
			color: $color;
			border-color: $color;
		}
		.search-field{
			border: 1px solid #ddd;
			padding: 2px;
		}
		.search-field:hover, .search-field:focus{
			outline: none;
			border-color: $color;
		}
	}

	.categories-subtitle{
		margin: 2em 0 1em 0;
	}
	.categories{
		margin: 1em 0;
	}
}

.site-main{
	width: 75%;
	display: flex;
	flex-wrap: wrap;
	justify-content: center;
	margin-top: 3em;
	-webkit-transition: transform 300ms ease-out;
	transition: transform $how_fast ease-out;

	@media only screen and (max-width: 1343px) {
		width: 65%;
	}
	@media only screen and (max-width: $menu_to_top_breakpoint) {
		width: 100%;
	}

	.card{
		position: relative;
		display: inline-block;
		vertical-align: top;
		width: 18em;
		color: $black;
		border: 1px solid transparent;
		text-decoration: none;
		// background: #fff;
		// box-shadow: 0 0 40px rgba(0, 0, 0, 0.05);
		border: 1px solid $black;
		padding: 0 1.5em 1em 1.5em;
		margin: 0 1.5em 3em 1.5em;
		word-break: break-word;

		@media only screen and (max-width: $menu_to_top_breakpoint) {
			width: 30%;
			margin: 0 1em 2em 1em;
		}
		@media only screen and (max-width: 961px) {
			width: 46%;
		}
		@media only screen and (max-width: 801px) {
			width: 45%;
		}
		@media only screen and (max-width: 640px) {
			width: 100%;
		}

		h2{
			font-weight: 100;
			font-size: 2em;
		}
		.category{
			margin-bottom: 0;
		}
		.time{
			margin-top: 0;
		}
	}
	.card:hover{
		color: $color;
		border-color: $color;
	}

	// single
	.single-wrapper{
		width: 100%;

		.single{
			max-width: 40em;
			margin: 0 auto;
			padding: 1em;

			.single-content{
				margin-bottom: 6em;
			}

			.single-content p:first-child{
				font-size: 1.3em;
				margin-bottom: 1rem;
			}

			h2, h3, h4{
				font-weight: 100;
			}
			h3{
				text-transform: uppercase;
			}

			.single-data p{
				margin: 0;
			}
			.single-data{
				margin-bottom: 3em;
			}

			h2, h3, h4{
				font-weight: 100;
			}

			> h2{
				margin-top: 0;
				font-size: 4em;
				margin-bottom: 23px;

				@media only screen and (max-width: 801px) {
					font-size: 3em;
				}
			}

			.footnote a{
				background-image: none;
				text-shadow: none;
			}
			.footnotes{
				opacity: 0.7;

				.footnotereverse{
					a{
						background-image: none;
						text-shadow: none;
					}
					a:before{
						content: '↩';
					}
					img{
						display: none !important;
					}
				}
			}
		}
	}

	// cards representing next/previous posts on the bottom of a single post
	.posts-navigation{
		margin-top: 130px;
		font-size: 0.9em;
    width: 100%;
    text-align: center;

		.card{
			text-align: left;
			min-height: 26em;
		}

		.card-next:before{
			content: '←';
		}
		.card-prev:before{
			content: '→';
		}
		.card:before{
			text-align: center;
			width: 100%;
			position: absolute;
			left: 0;
			top: -4rem;
			font-size: 3em;
			color: $black;

			@media only screen and (max-width: 650px) {
				display: none;
			}
		}
		.card:hover:before{
			color: $color;
		}
	}


	// search page
	.page-header{
		width: 100%;
		text-align: center;
		margin-bottom: 3em;

		span{
			color: $color;
		}
	}

}

// bigger first card - only on homepage
.home{
		.card:first-child{
		width: 39em;

		@media only screen and (max-width: $menu_to_top_breakpoint) {
			width: 100%;
		}

		h2{
			font-size: 3em;
			margin-bottom: 27px;
			margin-top: 21px;

			@media only screen and (max-width: 570px) {
				font-size: 2em;
			}
		}
	}
}

// for github gist - so the links there are not affects
.gist-file a{
	text-shadow: none;
	background-image: none;
}


// 404
.error404{
	.page-content{
		text-align: center;
	}
	.card{
    text-align: left;
    margin-top: 3em;
	}

	#link-msg, #link-404{
		display: none;
	}
}

// twitter embed
[id^=twitter] {
    margin: 10px auto;
}
